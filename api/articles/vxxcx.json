{"title":"小程序的学习笔记","slug":"vxxcx","date":"2021-04-02T12:59:09.000Z","updated":"2021-09-10T12:54:27.101Z","comments":true,"path":"api/articles/vxxcx.json","excerpt":null,"covers":["https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/21231sa.webp","https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/fadsfdgdhfertrqrhf.webp","https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dwadawdzxzx21342.png","https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dawdawsadacthe3341.png","https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dawdawade2131.png"],"content":"<h2 id=\"小程序文件分析\"><a href=\"#小程序文件分析\" class=\"headerlink\" title=\"小程序文件分析\"></a>小程序文件分析</h2><ol>\n<li><code>WXML WXSS JavaScript JSON</code></li>\n<li><code>page</code> 首页 <code>log</code>日志</li>\n<li>顶部标题的颜色必须为block和white</li>\n</ol>\n<h2 id=\"tabBar\"><a href=\"#tabBar\" class=\"headerlink\" title=\"tabBar\"></a>tabBar</h2><ol>\n<li>表示地址的tab栏</li>\n<li>【<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar\">官网地址</a>】</li>\n</ol>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>在使用bool类型充当类型属性时，在属性值的位置前面不能加空格</li>\n<li>列表循环 `wx:for=”数组或者对象”</li>\n<li>只有一层循环时可以将一下省略</li>\n<li>列表循环<code>wx:for-item=&quot;循环项的名称&quot; </code>wx:for-index=’index’`</li>\n<li>wx:key=”唯一的值”</li>\n<li>条件渲染 <code>wx:if</code>  <code>wx:elif</code> <code>wx:else</code></li>\n<li>hidden 是添加样式使用</li>\n<li>对象循环<code> wx:for=&quot;&#123;&#123;对象/数组&#125;&#125;&quot; wx:for-item=&quot;对象的值&quot; wx:for-index=&quot;循环项目的属性&quot;</code></li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--pages/demo/demo.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>轮播图<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- image width 700px height 277px </span></span><br><span class=\"line\"><span class=\"comment\">  x/1 = 277/700   x=277/700</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">swiper</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;swiper&quot;</span> <span class=\"attr\">autoplay</span> <span class=\"attr\">interval</span>=<span class=\"string\">&quot;1000&quot;</span> <span class=\"attr\">circular</span> <span class=\"attr\">indicator-dots</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://m.360buyimg.com/mobilecms/s700x280_jfs/t1/175759/5/697/309624/605fa953Eaddcc402/30b0ea12dc5cc42c.jpg!cr_1125x445_0_171!q70.jpg.dpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>/&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://m.360buyimg.com/mobilecms/s700x280_jfs/t1/143564/28/18582/124317/60667523E2a4840dd/301bbb3de0243db8.jpg!q70.jpg.dpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>/&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://m.360buyimg.com/mobilecms/s700x280_jfs/t1/155887/8/16711/104572/60534627Eb979dc75/cc416de39d2e83b0.jpg!cr_1125x445_0_171!q70.jpg.dpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>/&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">swiper</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 单选框 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">radio-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;bindChange&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;sex&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;male&quot;</span>&gt;</span>男<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;sex&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;female&quot;</span>&gt;</span>女<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;gerder == &#x27;male&#x27;&#125;&#125;&quot;</span>&gt;</span>-您选择的按钮为男<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;gerder == &#x27;female&#x27;&#125;&#125;&quot;</span>&gt;</span>-您选择的按钮为女<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:else</span>=<span class=\"string\">&quot;&#123;&#123;gerder == &#x27;&#x27;&#125;&#125;&quot;</span>&gt;</span>-您选择的按钮为<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">radio-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 复选框 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">checkbox-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;bandelItemchange&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;fruit&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&#123;&#123;item.value&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">      &#123;&#123;item.name&#125;&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>选中的是：&#123;&#123;checkList&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">checkbox-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 组件 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Tabs</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Tabs</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">rich-text</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">nodes</span>=<span class=\"string\">&quot;&#123;&#123;html&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">rich-text</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>input标签<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">bindinput</span>=<span class=\"string\">&quot;handleInput&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;mini&quot;</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handeltap&quot;</span> <span class=\"attr\">data-opertation</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span>+<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;mini&quot;</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handeltap&quot;</span> <span class=\"attr\">data-opertation</span>=<span class=\"string\">&quot;&#123;&#123;-1&#125;&#125;&quot;</span>&gt;</span>-<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/wallhaven-oxxw29.webp&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>----------------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>测试页面<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#x27;text&#x27;相当于web中的span元素，view相当于web中的div标签块级元素<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>测试wx:for标签<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>---------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>列表循环<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;index&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;username&quot;</span>&gt;</span></span><br><span class=\"line\">  属性：&#123;&#123;item.id&#125;&#125;</span><br><span class=\"line\">  索引: &#123;&#123;index&#125;&#125;</span><br><span class=\"line\">  名称：&#123;&#123;item.name&#125;&#125;</span><br><span class=\"line\">  年龄：&#123;&#123;item.age&#125;&#125;</span><br><span class=\"line\">  年龄：&#123;&#123;item.msg.con&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>对象循环<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;msg&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;value&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;key&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span></span><br><span class=\"line\">  &#123;&#123;value&#125;&#125;</span><br><span class=\"line\">  &#123;&#123;key&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>---------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>测试 wx:if<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>---------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>测试 hidden<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"事件绑定\"><a href=\"#事件绑定\" class=\"headerlink\" title=\"事件绑定\"></a>事件绑定</h2><ol>\n<li>input标签绑定input事件  使用<code>bindinput</code>属性</li>\n<li>通过事件源对象来获取input输入的值 <code>e.detail.value</code></li>\n<li>与data同级 并且可以将input中输入的值与data中定义的属性绑定，使用<code>this.setData(&#123;属性:e.detail.value&#125;)</code></li>\n<li>加入一个点击事件 <code>bindtap</code>属性，无法直接传参 通过自定义属性的方法来传参</li>\n</ol>\n<ul>\n<li>在自定义属性时要注意 如果传递的参数为数字，应该加<code>&#123;&#123;&#125;&#125;</code>使得传递的参数为number，不加为string</li>\n<li>注意input输入后的值为字符型，需要将输入的值转换</li>\n</ul>\n<h2 id=\"图片问题\"><a href=\"#图片问题\" class=\"headerlink\" title=\"图片问题\"></a>图片问题</h2><ol>\n<li>比例尺的关系 <code>1px =750rpx*设置的尺寸大小/page的宽度</code></li>\n<li>text 才能实现长按复制  <code>selectable decode</code>解码和复制</li>\n<li><code>image</code> 中属性<code>mode</code> <code>aspectFit</code> 是长边能显示出来  <code>aspecFill</code> 使得短边显示出来 <code>widthFix</code> 按照比例缩放</li>\n<li>图片支持懒加载<code>lazy-load</code>   布尔值</li>\n</ol>\n<h2 id=\"轮播图swiper\"><a href=\"#轮播图swiper\" class=\"headerlink\" title=\"轮播图swiper\"></a>轮播图swiper</h2><ol>\n<li>轮播项 <code>swiper-item</code> 标签里面放入图片 swiper 存在默认高度 150px</li>\n<li>高度无法实现由内容撑开</li>\n<li>图片使用<code>mode=“widthFix”</code></li>\n<li>indicator-dots 显示面板指示点 <code>indicator-color</code>  <code>indicator-active-color</code></li>\n<li>autoplay 自动轮播  5秒一次</li>\n<li>interval 可以切换时间间隔</li>\n<li>circular 是否循环轮播</li>\n<li>给图片加100%宽度 ，swipter的高度自适应 <code>100vw * 图片的宽度 / 高度</code><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/21231sa.webp\"></p>\n              </div>\n            </details>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/fadsfdgdhfertrqrhf.webp\"></p>\n              </div>\n            </details>\n\n</li>\n</ol>\n<h2 id=\"navigator-导航\"><a href=\"#navigator-导航\" class=\"headerlink\" title=\"navigator 导航\"></a>navigator 导航</h2><ol>\n<li><code>url</code> 表示要跳转的页面路径</li>\n<li>相当于块级元素</li>\n<li>target 跳转小程序，默认当前小程序  可选值 <code>self/minProgram</code></li>\n<li>open-type  跳转方式<br><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dwadawdzxzx21342.png\"></li>\n</ol>\n<h2 id=\"rich-text-富文本标签\"><a href=\"#rich-text-富文本标签\" class=\"headerlink\" title=\"rich-text 富文本标签\"></a>rich-text 富文本标签</h2><ol>\n<li>nodes 接受字符串</li>\n<li>对象数组 </li>\n</ol>\n<h2 id=\"button标签\"><a href=\"#button标签\" class=\"headerlink\" title=\"button标签\"></a>button标签</h2><ol>\n<li>size属性 <code> default/ mini</code></li>\n<li>open-type</li>\n</ol>\n<h2 id=\"icon图标\"><a href=\"#icon图标\" class=\"headerlink\" title=\"icon图标\"></a>icon图标</h2><ol>\n<li>type类型</li>\n<li>size 大小 默认23</li>\n<li>color 改变颜色</li>\n</ol>\n<h2 id=\"radio-checkbox\"><a href=\"#radio-checkbox\" class=\"headerlink\" title=\"radio/checkbox\"></a>radio/checkbox</h2><ol>\n<li>radio-ground 绑定change事件 <code>bindchange</code></li>\n<li>checkbox-ground 绑定事件change</li>\n</ol>\n<h2 id=\"自定义组件\"><a href=\"#自定义组件\" class=\"headerlink\" title=\"自定义组件\"></a>自定义组件</h2><ol>\n<li>在使用自定义组件时 要注意 在使用函数方法时要写到<code>methods</code>中</li>\n<li>并且将被使用的组件写到需要渲染页面的json文件中</li>\n<li>父组件向子组件 传递数据 通过自定义属性来传递  <code>properties</code>  要接受的数据名称 ·<code> type/value·</code>类型和值</li>\n<li>子向父传递  <code>this.triggerEvent(&#39;名称&#39;,传递的参数)</code> 传递的时候要注意 传递的参数是什么形式，相对应</li>\n<li>子传父,在子中定义一个要传递的事件方法和参数，在父中对事件方法进行绑定，然后在父中使用方法 </li>\n<li>数据在谁上，谁有权修改</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"function\"><span class=\"title\">handleitemtap</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 将点击的事件加入自定义属性</span></span><br><span class=\"line\">      <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> &#123;index&#125; = e.currentTarget.dataset</span><br><span class=\"line\">      <span class=\"keyword\">let</span> &#123;tabs&#125; = <span class=\"built_in\">this</span>.data</span><br><span class=\"line\">      <span class=\"comment\">// console.log(index);</span></span><br><span class=\"line\">      <span class=\"comment\">// 对以上的导航数据使用foreach进行遍历</span></span><br><span class=\"line\">      tabs.forEach(<span class=\"function\">(<span class=\"params\">v,i</span>)=&gt;</span>i===index?v.isActive=<span class=\"literal\">true</span>:v.isActive=<span class=\"literal\">false</span>)</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        tabs</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">-------------------</span><br><span class=\"line\">&lt;view <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;nav&quot;</span>&gt;</span><br><span class=\"line\">  &lt;view bindtap=<span class=\"string\">&quot;handleitemtap&quot;</span> wx:<span class=\"keyword\">for</span>=<span class=\"string\">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> wx:key=<span class=\"string\">&quot;id&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;title_item &#123;&#123;item.isActive?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span> data-index=<span class=\"string\">&quot;&#123;&#123;index&#125;&#125;&quot;</span>&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<ol>\n<li>slot标签其实就是一个占位符，等到父组件调用子组件的时候，在传递标签</li>\n</ol>\n<h2 id=\"生命周期\"><a href=\"#生命周期\" class=\"headerlink\" title=\"生命周期\"></a>生命周期</h2><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\">App(&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 表示在应用第一次启用时就执行</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onLaunch</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;launch&#x27;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 不能触发</span></span><br><span class=\"line\">    <span class=\"comment\">// wx.navigateTo(&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   url: &#x27;url&#x27;,</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;)</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用被用户看到时执行</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onShow</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 对数据的重置</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onshow&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用被隐藏的时候所执行的</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onHide</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 清除定时器</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onHide&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用发生错误时执行</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onError</span>(<span class=\"params\">err</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onError&#x27;</span>); </span><br><span class=\"line\">    <span class=\"comment\">// console.log(err);</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用找不到页面时触发</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onPageNotFound</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 无法跳转到tabbar页面，如果页面不存在可以重定向到第二个页面</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onPageNotFound&#x27;</span>);</span><br><span class=\"line\">    wx.navigateTo(&#123;</span><br><span class=\"line\">      url: <span class=\"string\">&#x27;/pages/demo/demo&#x27;</span>,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dawdawsadacthe3341.png\"></p>\n<h2 id=\"页面生命周期\"><a href=\"#页面生命周期\" class=\"headerlink\" title=\"页面生命周期\"></a>页面生命周期</h2><p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dawdawade2131.png\"></p>\n<h2 id=\"项目制作\"><a href=\"#项目制作\" class=\"headerlink\" title=\"项目制作\"></a>项目制作</h2><ol>\n<li>promise封装函数<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> request=<span class=\"function\">(<span class=\"params\">params</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">          ...params,</span><br><span class=\"line\">          success:<span class=\"function\">(<span class=\"params\">result</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              resolve(result)</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          fail:<span class=\"function\">(<span class=\"params\">err</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              reject(err)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">          </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">request(&#123;<span class=\"attr\">url</span>:<span class=\"string\">&quot;https://api-hmugo-web.itheima.net/api/public/v1/home/swiperdata&quot;</span>&#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">result</span>=&gt;</span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">            swiper_list: result.data.message</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">    &#125;)</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n</li>\n</ol>\n<h2 id=\"缓冲事件\"><a href=\"#缓冲事件\" class=\"headerlink\" title=\"缓冲事件\"></a>缓冲事件</h2><ol>\n<li>设置一个缓冲事件，获取本地的存储中的数据进行判断</li>\n<li>·<code>&#123;time:Date.now(),data:[...]&#125;</code></li>\n<li>web:<code> localStorage.setItem(&quot;key&quot;,&quot;value&quot;)</code> <code>localStorage.getItem(&quot;key&quot;)</code></li>\n<li>优化接口的路径  使用prominse中的params将url解构出来</li>\n</ol>\n<h2 id=\"es7-async语法\"><a href=\"#es7-async语法\" class=\"headerlink\" title=\"es7 async语法\"></a>es7 async语法</h2><ol>\n<li>解决回溯的最终方案</li>\n<li>async</li>\n</ol>\n<h2 id=\"触底事件\"><a href=\"#触底事件\" class=\"headerlink\" title=\"触底事件\"></a>触底事件</h2><ol>\n<li><code>onReachBottom</code> 页面触底事件</li>\n<li>页面上拉触底事件的处理函数。触底事件，当页面触底之后，在进行请求，并且将请求到的数据在追加到原来的数组中，并且在触底后还要进行判断如果总数据的页数&gt;=当前的页数，要返回wxwx.showToast({title: ‘title’,}),否则继续请求<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// pages/goods_list/goods_list.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; request &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../request/index.js&quot;</span>;</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面的初始数据</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 将这些数据导入到子文件中</span></span><br><span class=\"line\">    tabs: [&#123;</span><br><span class=\"line\">        id: <span class=\"number\">0</span>,</span><br><span class=\"line\">        value: <span class=\"string\">&#x27;综合&#x27;</span>,</span><br><span class=\"line\">        isActive: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        id: <span class=\"number\">1</span>,</span><br><span class=\"line\">        value: <span class=\"string\">&#x27;销量&#x27;</span>,</span><br><span class=\"line\">        isActive: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        id: <span class=\"number\">2</span>,</span><br><span class=\"line\">        value: <span class=\"string\">&#x27;价格&#x27;</span>,</span><br><span class=\"line\">        isActive: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    first_list:[],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 设置请求后返回的总页面的数量</span></span><br><span class=\"line\">  totalpages:<span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleChage</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 将子传递给父亲的索引值解构出来</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;id&#125; = e.detail</span><br><span class=\"line\">    <span class=\"comment\">// 将父亲data的数据进行解构</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> &#123;tabs&#125; = <span class=\"built_in\">this</span>.data</span><br><span class=\"line\">    <span class=\"comment\">// 将data中的数据进行遍历 如果此时的索引值等于数据中的id值则将数据中的isActive的值改为true</span></span><br><span class=\"line\">    <span class=\"comment\">// 这里的v表示的是遍历的数据，i表示的是索引号</span></span><br><span class=\"line\">    tabs.forEach(<span class=\"function\">(<span class=\"params\">v,i</span>) =&gt;</span>i===id?v.isActive=<span class=\"literal\">true</span>:v.isActive=<span class=\"literal\">false</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 将这里修改的数据加到源数据中</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      tabs</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 页面触底事件</span></span><br><span class=\"line\"></span><br><span class=\"line\">  pageParams:&#123;</span><br><span class=\"line\">    query:<span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    cid:<span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    pagenum:<span class=\"number\">1</span>,</span><br><span class=\"line\">    pagesize:<span class=\"number\">10</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 对接口数据进行请求</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"function\"><span class=\"title\">getgoodList</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> request(&#123;</span><br><span class=\"line\">      url:<span class=\"string\">&#x27;/goods/search&#x27;</span>,</span><br><span class=\"line\">      data: <span class=\"built_in\">this</span>.pageParams</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(res);</span><br><span class=\"line\">    <span class=\"comment\">// 先获取页面的总数据，计算出页码信息</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> goodspages = <span class=\"built_in\">Math</span>.ceil(res.data.message.total / <span class=\"built_in\">this</span>.pageParams.pagesize)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(goodspages)</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.totalpages = goodspages</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 这一步是将请求到的数据在使用数组拼接的方式拼接起来，这里用到了数组解构的方法</span></span><br><span class=\"line\">      first_list:[...this.data.first_list,...res.data.message.goods],</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面加载</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onLoad: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(options);</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.pageParams.cid = options.cat_id</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.getgoodList()</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面上拉触底事件的处理函数。触底事件，当页面触底之后，在进行请求，并且将请求到的数据在追加到原来的数组中，并且在触底后还要进行判断如果总数据的页数&gt;=当前的页数，要返回wxwx.showToast(&#123;title: &#x27;title&#x27;,&#125;),否则继续请求</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onReachBottom: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.pageParams.pagenum++;</span><br><span class=\"line\">    <span class=\"comment\">// 进行页面触底的判断</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.totalpages&lt;=<span class=\"built_in\">this</span>.pageParams.pagenum)&#123;</span><br><span class=\"line\">      wx.showToast(&#123;</span><br><span class=\"line\">        title: <span class=\"string\">&#x27;页面加载完成&#x27;</span>,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.getgoodList()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onReady: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面显示</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onShow: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面隐藏</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onHide: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面卸载</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onUnload: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onPullDownRefresh: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 用户点击右上角分享</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onShareAppMessage: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n</li>\n</ol>\n<h2 id=\"下拉刷新页面\"><a href=\"#下拉刷新页面\" class=\"headerlink\" title=\"下拉刷新页面\"></a>下拉刷新页面</h2><ol>\n<li>重置数据</li>\n<li>重置页码 </li>\n<li>然后在请求方法的最后加上 关闭下拉刷新的方法</li>\n<li>显示加载中提示，在页面请求之前显示 <code>complete方法</code></li>\n<li>在页面请求加载之前首先先显示加载按钮在页面加载结束后隐藏 调用wx.request方法中的第三个函数方法complete</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 如果在执行异步操作时，对隐藏加载按钮进行处理，不做处理页面还未加载完成就结束了</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ajaxtimes = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> request=<span class=\"function\">(<span class=\"params\">params</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    ajaxtimes++;</span><br><span class=\"line\">    <span class=\"comment\">// 在页面请求加载之前首先先显示加载按钮在页面加载结束后隐藏 调用wx.request方法中的第三个函数方法complete</span></span><br><span class=\"line\">    wx.showLoading(&#123;</span><br><span class=\"line\">        title: <span class=\"string\">&#x27;加载中&#x27;</span>,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"comment\">// 将接口的公共部分解构出来，在进行拼接</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> baseUrl = <span class=\"string\">&#x27;https://api-hmugo-web.itheima.net/api/public/v1&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">          ...params,</span><br><span class=\"line\">          url:baseUrl+params.url,</span><br><span class=\"line\">          success:<span class=\"function\">(<span class=\"params\">result</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              resolve(result)</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          fail:<span class=\"function\">(<span class=\"params\">err</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              reject(err)</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        <span class=\"comment\">//   请求完成或者失败都会执行</span></span><br><span class=\"line\">          complete:<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">              ajaxtimes--;</span><br><span class=\"line\">            <span class=\"comment\">//   如果ajaxtimes的值不等于0，不执行隐藏函数</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(ajaxtimes===<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                wx.hideLoading()</span><br><span class=\"line\">            &#125; </span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);    </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"css省略号\"><a href=\"#css省略号\" class=\"headerlink\" title=\"css省略号\"></a>css省略号</h2><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">display</span>: <span class=\"selector-tag\">-webkit-box</span>;</span><br><span class=\"line\"><span class=\"selector-tag\">-webkit-box-orient</span>: <span class=\"selector-tag\">vertical</span>;</span><br><span class=\"line\"><span class=\"selector-tag\">-webkit-line-clamp</span>: 2;</span><br><span class=\"line\"><span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">hidden</span>;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"预览大图\"><a href=\"#预览大图\" class=\"headerlink\" title=\"预览大图\"></a>预览大图</h2><ol>\n<li>点击轮播图位置得图片实现大图得预览效果</li>\n<li>为轮播图添加一个点击事件</li>\n<li>使用事件 <code>previewImage</code></li>\n<li>给小程序添加大图预览效果 使用  wx.previewImage方法来实现，首先是在轮播图的遍历图片的位置添加一个函数方法，然后在方法内使用pre方法，并且将获取到的图片从列表中选出后生成一个新的列表使用map方法,由于是异步函数，所以必须将列表单独拿出来,给swiper加上一个自定义id值，当用户点击某一张图片时将该图片放大,获取该点击事件得图片id值，使用解构得方法</li>\n</ol>\n<h2 id=\"购物车模拟\"><a href=\"#购物车模拟\" class=\"headerlink\" title=\"购物车模拟\"></a>购物车模拟</h2><ol>\n<li>对加入购物车事件进行处理，点击加入购物车 先对本地缓冲中得cart缓冲进行判断如果存在则使得该商品得总数num+1，否则将当前商品得数量设置为1，使用<code>findIndex</code>方法，如果不满足条件则返回-1<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">handleshopAdd</span>(<span class=\"params\">e</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cart = wx.getStorageSync(<span class=\"string\">&#x27;cart&#x27;</span>) || []</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index = cart.findIndex(<span class=\"function\"><span class=\"params\">v</span> =&gt;</span>v.data.message.goods_id === <span class=\"built_in\">this</span>.infoData.data.message.goods_id)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (index === -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.infoData.num = <span class=\"number\">1</span></span><br><span class=\"line\">    cart.push(<span class=\"built_in\">this</span>.infoData)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    cart[index].num++;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(cart[index].num);</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// console.log(index);</span></span><br><span class=\"line\">  wx.setStorageSync(<span class=\"string\">&#x27;cart&#x27;</span>, cart)</span><br><span class=\"line\">  wx.showToast(&#123;</span><br><span class=\"line\">    title: <span class=\"string\">&#x27;加入购物车成功&#x27;</span>,</span><br><span class=\"line\">    icon: <span class=\"string\">&#x27;success&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 防抖操作</span></span><br><span class=\"line\">    mask: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n\n</li>\n</ol>\n<h2 id=\"获取地址信息\"><a href=\"#获取地址信息\" class=\"headerlink\" title=\"获取地址信息\"></a>获取地址信息</h2><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data: &#123;</span><br><span class=\"line\">    address: <span class=\"literal\">false</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 点击获取地址按钮事件</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleButtonAddress</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 将获取到得地址信息存入到缓冲中</span></span><br><span class=\"line\">    wx.chooseAddress(&#123;</span><br><span class=\"line\">      success: <span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// console.log(result);</span></span><br><span class=\"line\">        <span class=\"comment\">// 设置一个缓冲信息</span></span><br><span class=\"line\">        wx.setStorageSync(<span class=\"string\">&#x27;address&#x27;</span>, result);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;) </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 在onshow事件内进行判断如果缓冲中存在数据则将地址呈现到页面中</span></span><br><span class=\"line\">  onShow: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 先判断缓冲中是否存在信息，如果存在将数据存入到 data中并呈现到页面中</span></span><br><span class=\"line\">    <span class=\"comment\">// 先获取缓冲中得数据</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> address = wx.getStorageSync(<span class=\"string\">&#x27;address&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(address)&#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        address</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      <span class=\"comment\">// 将数据呈现到页面中</span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.data.address);</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;缓冲中得数据不存在&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"结算功能\"><a href=\"#结算功能\" class=\"headerlink\" title=\"结算功能\"></a>结算功能</h2><ol>\n<li>使用遍历中的every方法</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Page Object</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    address: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    cart_list: [],</span><br><span class=\"line\">    Allchecked: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    totalPrice:<span class=\"number\">0</span>,</span><br><span class=\"line\">    totalNum:<span class=\"number\">0</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 点击获取地址按钮事件</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleButtonAddress</span>(<span class=\"params\">e</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 将获取到得地址信息存入到缓冲中</span></span><br><span class=\"line\">    wx.chooseAddress(&#123;</span><br><span class=\"line\">      success: <span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(result);</span><br><span class=\"line\">        <span class=\"comment\">// 设置一个缓冲信息</span></span><br><span class=\"line\">        wx.setStorageSync(<span class=\"string\">&#x27;address&#x27;</span>, result);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 在onshow事件内进行判断如果缓冲中存在数据则将地址呈现到页面中</span></span><br><span class=\"line\">  onShow: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 先判断缓冲中是否存在信息，如果存在将数据存入到 data中并呈现到页面中</span></span><br><span class=\"line\">    <span class=\"comment\">// 先获取缓冲中得数据</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> address = wx.getStorageSync(<span class=\"string\">&#x27;address&#x27;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 获取缓存中的购物车信息</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> cart_list = wx.getStorageSync(<span class=\"string\">&#x27;cart&#x27;</span>) || []</span><br><span class=\"line\">    <span class=\"comment\">// 使用遍历方法every </span></span><br><span class=\"line\">    <span class=\"comment\">// const Allchecked = cart_list.length ? cart_list.every(v =&gt; v.checked) : false</span></span><br><span class=\"line\">    <span class=\"comment\">// 购物车结算，将用户选中的商品的数量相加，为总数量；单个商品的价格和数量相乘相加得到商品的总价格</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setCart(cart_list)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (address) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        address</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      <span class=\"comment\">// 将数据呈现到页面中</span></span><br><span class=\"line\">      <span class=\"comment\">// console.log(this.data.address);</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 给checkbox添加一个改变属性</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleItemChecked</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 获取选中改变商品的id,解构出来</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;id&#125; = e.currentTarget.dataset</span><br><span class=\"line\">    <span class=\"comment\">// 找到缓冲中的相应的商品，同时进行判断如果修改checed属性值</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;cart_list&#125; = <span class=\"built_in\">this</span>.data</span><br><span class=\"line\">    <span class=\"comment\">// 使用findIndex方法对缓冲中的数组进行遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> index = cart_list.findIndex(<span class=\"function\"><span class=\"params\">v</span>=&gt;</span>v.data.message.goods_id==id)</span><br><span class=\"line\">    <span class=\"comment\">// 找出用户改变商品选中状态的索引值,修改该索引值下商品的checked的值</span></span><br><span class=\"line\">    cart_list[index].checked = !cart_list[index].checked</span><br><span class=\"line\">    <span class=\"comment\">// console.log(index);</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setCart(cart_list)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 封装一个计算商品总数和商品总价格的函数方法</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">setCart</span>(<span class=\"params\">cart_list</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> totalPrice = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> totalNum = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> Allchecked = <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"comment\">// 使用forEach方法对缓冲中的数组进行遍历</span></span><br><span class=\"line\">    cart_list.forEach(<span class=\"function\"><span class=\"params\">v</span>=&gt;</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(v.checked)&#123;</span><br><span class=\"line\">        totalPrice += v.data.message.goods_price*v.num</span><br><span class=\"line\">        totalNum += v.num</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        Allchecked= <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"comment\">// 并且当用户的列表为空时不进行遍历</span></span><br><span class=\"line\">    Allchecked=cart_list.length !=<span class=\"number\">0</span>?Allchecked:<span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"comment\">// console.log(cart_list);</span></span><br><span class=\"line\">    <span class=\"comment\">// console.log(Allchecked);</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      cart_list,</span><br><span class=\"line\">      Allchecked,</span><br><span class=\"line\">      totalPrice,</span><br><span class=\"line\">      totalNum</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"登录获取用户信息\"><a href=\"#登录获取用户信息\" class=\"headerlink\" title=\"登录获取用户信息\"></a>登录获取用户信息</h2><ol>\n<li>使用getgetUserProfile</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">getUserProfile</span>(<span class=\"params\">e</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">  <span class=\"comment\">// 判断缓冲中是否存在用户id</span></span><br><span class=\"line\">  wx.getUserProfile(&#123;</span><br><span class=\"line\">    desc: <span class=\"string\">&#x27;用于完善会员资料&#x27;</span>, <span class=\"comment\">// 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写</span></span><br><span class=\"line\">    success: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        userInfo: res.userInfo,</span><br><span class=\"line\">        hasUserInfo: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      wx.setStorageSync(<span class=\"string\">&#x27;userinfo&#x27;</span>, res.userInfo);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> userinfo = wx.getStorageSync(<span class=\"string\">&#x27;userinfo&#x27;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (userinfo) &#123;</span><br><span class=\"line\">        wx.switchTab(&#123;</span><br><span class=\"line\">          url: <span class=\"string\">&#x27;/pages/user/user&#x27;</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"防抖和节流\"><a href=\"#防抖和节流\" class=\"headerlink\" title=\"防抖和节流\"></a>防抖和节流</h2><ol>\n<li>使用定时器解决防抖</li>\n</ol>\n<h2 id=\"图片的上传\"><a href=\"#图片的上传\" class=\"headerlink\" title=\"图片的上传\"></a>图片的上传</h2>","more":"<h2 id=\"小程序文件分析\"><a href=\"#小程序文件分析\" class=\"headerlink\" title=\"小程序文件分析\"></a>小程序文件分析</h2><ol>\n<li><code>WXML WXSS JavaScript JSON</code></li>\n<li><code>page</code> 首页 <code>log</code>日志</li>\n<li>顶部标题的颜色必须为block和white</li>\n</ol>\n<h2 id=\"tabBar\"><a href=\"#tabBar\" class=\"headerlink\" title=\"tabBar\"></a>tabBar</h2><ol>\n<li>表示地址的tab栏</li>\n<li>【<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar\">官网地址</a>】</li>\n</ol>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ol>\n<li>在使用bool类型充当类型属性时，在属性值的位置前面不能加空格</li>\n<li>列表循环 `wx:for=”数组或者对象”</li>\n<li>只有一层循环时可以将一下省略</li>\n<li>列表循环<code>wx:for-item=&quot;循环项的名称&quot; </code>wx:for-index=’index’`</li>\n<li>wx:key=”唯一的值”</li>\n<li>条件渲染 <code>wx:if</code>  <code>wx:elif</code> <code>wx:else</code></li>\n<li>hidden 是添加样式使用</li>\n<li>对象循环<code> wx:for=&quot;&#123;&#123;对象/数组&#125;&#125;&quot; wx:for-item=&quot;对象的值&quot; wx:for-index=&quot;循环项目的属性&quot;</code></li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--pages/demo/demo.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>轮播图<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- image width 700px height 277px </span></span><br><span class=\"line\"><span class=\"comment\">  x/1 = 277/700   x=277/700</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">swiper</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;swiper&quot;</span> <span class=\"attr\">autoplay</span> <span class=\"attr\">interval</span>=<span class=\"string\">&quot;1000&quot;</span> <span class=\"attr\">circular</span> <span class=\"attr\">indicator-dots</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://m.360buyimg.com/mobilecms/s700x280_jfs/t1/175759/5/697/309624/605fa953Eaddcc402/30b0ea12dc5cc42c.jpg!cr_1125x445_0_171!q70.jpg.dpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>/&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://m.360buyimg.com/mobilecms/s700x280_jfs/t1/143564/28/18582/124317/60667523E2a4840dd/301bbb3de0243db8.jpg!q70.jpg.dpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>/&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://m.360buyimg.com/mobilecms/s700x280_jfs/t1/155887/8/16711/104572/60534627Eb979dc75/cc416de39d2e83b0.jpg!cr_1125x445_0_171!q70.jpg.dpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>/&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">swiper</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 单选框 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">radio-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;bindChange&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;sex&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;male&quot;</span>&gt;</span>男<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;sex&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;female&quot;</span>&gt;</span>女<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;gerder == &#x27;male&#x27;&#125;&#125;&quot;</span>&gt;</span>-您选择的按钮为男<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;gerder == &#x27;female&#x27;&#125;&#125;&quot;</span>&gt;</span>-您选择的按钮为女<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:else</span>=<span class=\"string\">&quot;&#123;&#123;gerder == &#x27;&#x27;&#125;&#125;&quot;</span>&gt;</span>-您选择的按钮为<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">radio-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 复选框 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">checkbox-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;bandelItemchange&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;fruit&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&#123;&#123;item.value&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">      &#123;&#123;item.name&#125;&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>选中的是：&#123;&#123;checkList&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">checkbox-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 组件 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Tabs</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Tabs</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">rich-text</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">nodes</span>=<span class=\"string\">&quot;&#123;&#123;html&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">rich-text</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>input标签<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">bindinput</span>=<span class=\"string\">&quot;handleInput&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btn&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;mini&quot;</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handeltap&quot;</span> <span class=\"attr\">data-opertation</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span>+<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;mini&quot;</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handeltap&quot;</span> <span class=\"attr\">data-opertation</span>=<span class=\"string\">&quot;&#123;&#123;-1&#125;&#125;&quot;</span>&gt;</span>-<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/wallhaven-oxxw29.webp&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>----------------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>测试页面<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#x27;text&#x27;相当于web中的span元素，view相当于web中的div标签块级元素<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>测试wx:for标签<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>---------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>列表循环<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;index&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;username&quot;</span>&gt;</span></span><br><span class=\"line\">  属性：&#123;&#123;item.id&#125;&#125;</span><br><span class=\"line\">  索引: &#123;&#123;index&#125;&#125;</span><br><span class=\"line\">  名称：&#123;&#123;item.name&#125;&#125;</span><br><span class=\"line\">  年龄：&#123;&#123;item.age&#125;&#125;</span><br><span class=\"line\">  年龄：&#123;&#123;item.msg.con&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>对象循环<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;msg&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;value&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;key&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span></span><br><span class=\"line\">  &#123;&#123;value&#125;&#125;</span><br><span class=\"line\">  &#123;&#123;key&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>---------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>测试 wx:if<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>---------------------<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>测试 hidden<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"事件绑定\"><a href=\"#事件绑定\" class=\"headerlink\" title=\"事件绑定\"></a>事件绑定</h2><ol>\n<li>input标签绑定input事件  使用<code>bindinput</code>属性</li>\n<li>通过事件源对象来获取input输入的值 <code>e.detail.value</code></li>\n<li>与data同级 并且可以将input中输入的值与data中定义的属性绑定，使用<code>this.setData(&#123;属性:e.detail.value&#125;)</code></li>\n<li>加入一个点击事件 <code>bindtap</code>属性，无法直接传参 通过自定义属性的方法来传参</li>\n</ol>\n<ul>\n<li>在自定义属性时要注意 如果传递的参数为数字，应该加<code>&#123;&#123;&#125;&#125;</code>使得传递的参数为number，不加为string</li>\n<li>注意input输入后的值为字符型，需要将输入的值转换</li>\n</ul>\n<h2 id=\"图片问题\"><a href=\"#图片问题\" class=\"headerlink\" title=\"图片问题\"></a>图片问题</h2><ol>\n<li>比例尺的关系 <code>1px =750rpx*设置的尺寸大小/page的宽度</code></li>\n<li>text 才能实现长按复制  <code>selectable decode</code>解码和复制</li>\n<li><code>image</code> 中属性<code>mode</code> <code>aspectFit</code> 是长边能显示出来  <code>aspecFill</code> 使得短边显示出来 <code>widthFix</code> 按照比例缩放</li>\n<li>图片支持懒加载<code>lazy-load</code>   布尔值</li>\n</ol>\n<h2 id=\"轮播图swiper\"><a href=\"#轮播图swiper\" class=\"headerlink\" title=\"轮播图swiper\"></a>轮播图swiper</h2><ol>\n<li>轮播项 <code>swiper-item</code> 标签里面放入图片 swiper 存在默认高度 150px</li>\n<li>高度无法实现由内容撑开</li>\n<li>图片使用<code>mode=“widthFix”</code></li>\n<li>indicator-dots 显示面板指示点 <code>indicator-color</code>  <code>indicator-active-color</code></li>\n<li>autoplay 自动轮播  5秒一次</li>\n<li>interval 可以切换时间间隔</li>\n<li>circular 是否循环轮播</li>\n<li>给图片加100%宽度 ，swipter的高度自适应 <code>100vw * 图片的宽度 / 高度</code><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/21231sa.webp\"></p>\n              </div>\n            </details>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/fadsfdgdhfertrqrhf.webp\"></p>\n              </div>\n            </details>\n\n</li>\n</ol>\n<h2 id=\"navigator-导航\"><a href=\"#navigator-导航\" class=\"headerlink\" title=\"navigator 导航\"></a>navigator 导航</h2><ol>\n<li><code>url</code> 表示要跳转的页面路径</li>\n<li>相当于块级元素</li>\n<li>target 跳转小程序，默认当前小程序  可选值 <code>self/minProgram</code></li>\n<li>open-type  跳转方式<br><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dwadawdzxzx21342.png\"></li>\n</ol>\n<h2 id=\"rich-text-富文本标签\"><a href=\"#rich-text-富文本标签\" class=\"headerlink\" title=\"rich-text 富文本标签\"></a>rich-text 富文本标签</h2><ol>\n<li>nodes 接受字符串</li>\n<li>对象数组 </li>\n</ol>\n<h2 id=\"button标签\"><a href=\"#button标签\" class=\"headerlink\" title=\"button标签\"></a>button标签</h2><ol>\n<li>size属性 <code> default/ mini</code></li>\n<li>open-type</li>\n</ol>\n<h2 id=\"icon图标\"><a href=\"#icon图标\" class=\"headerlink\" title=\"icon图标\"></a>icon图标</h2><ol>\n<li>type类型</li>\n<li>size 大小 默认23</li>\n<li>color 改变颜色</li>\n</ol>\n<h2 id=\"radio-checkbox\"><a href=\"#radio-checkbox\" class=\"headerlink\" title=\"radio/checkbox\"></a>radio/checkbox</h2><ol>\n<li>radio-ground 绑定change事件 <code>bindchange</code></li>\n<li>checkbox-ground 绑定事件change</li>\n</ol>\n<h2 id=\"自定义组件\"><a href=\"#自定义组件\" class=\"headerlink\" title=\"自定义组件\"></a>自定义组件</h2><ol>\n<li>在使用自定义组件时 要注意 在使用函数方法时要写到<code>methods</code>中</li>\n<li>并且将被使用的组件写到需要渲染页面的json文件中</li>\n<li>父组件向子组件 传递数据 通过自定义属性来传递  <code>properties</code>  要接受的数据名称 ·<code> type/value·</code>类型和值</li>\n<li>子向父传递  <code>this.triggerEvent(&#39;名称&#39;,传递的参数)</code> 传递的时候要注意 传递的参数是什么形式，相对应</li>\n<li>子传父,在子中定义一个要传递的事件方法和参数，在父中对事件方法进行绑定，然后在父中使用方法 </li>\n<li>数据在谁上，谁有权修改</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"function\"><span class=\"title\">handleitemtap</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 将点击的事件加入自定义属性</span></span><br><span class=\"line\">      <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> &#123;index&#125; = e.currentTarget.dataset</span><br><span class=\"line\">      <span class=\"keyword\">let</span> &#123;tabs&#125; = <span class=\"built_in\">this</span>.data</span><br><span class=\"line\">      <span class=\"comment\">// console.log(index);</span></span><br><span class=\"line\">      <span class=\"comment\">// 对以上的导航数据使用foreach进行遍历</span></span><br><span class=\"line\">      tabs.forEach(<span class=\"function\">(<span class=\"params\">v,i</span>)=&gt;</span>i===index?v.isActive=<span class=\"literal\">true</span>:v.isActive=<span class=\"literal\">false</span>)</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        tabs</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">-------------------</span><br><span class=\"line\">&lt;view <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;nav&quot;</span>&gt;</span><br><span class=\"line\">  &lt;view bindtap=<span class=\"string\">&quot;handleitemtap&quot;</span> wx:<span class=\"keyword\">for</span>=<span class=\"string\">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> wx:key=<span class=\"string\">&quot;id&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;title_item &#123;&#123;item.isActive?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span> data-index=<span class=\"string\">&quot;&#123;&#123;index&#125;&#125;&quot;</span>&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<ol>\n<li>slot标签其实就是一个占位符，等到父组件调用子组件的时候，在传递标签</li>\n</ol>\n<h2 id=\"生命周期\"><a href=\"#生命周期\" class=\"headerlink\" title=\"生命周期\"></a>生命周期</h2><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\">App(&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 表示在应用第一次启用时就执行</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onLaunch</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;launch&#x27;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 不能触发</span></span><br><span class=\"line\">    <span class=\"comment\">// wx.navigateTo(&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   url: &#x27;url&#x27;,</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;)</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用被用户看到时执行</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onShow</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 对数据的重置</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onshow&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用被隐藏的时候所执行的</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onHide</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 清除定时器</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onHide&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用发生错误时执行</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onError</span>(<span class=\"params\">err</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onError&#x27;</span>); </span><br><span class=\"line\">    <span class=\"comment\">// console.log(err);</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 应用找不到页面时触发</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onPageNotFound</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 无法跳转到tabbar页面，如果页面不存在可以重定向到第二个页面</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onPageNotFound&#x27;</span>);</span><br><span class=\"line\">    wx.navigateTo(&#123;</span><br><span class=\"line\">      url: <span class=\"string\">&#x27;/pages/demo/demo&#x27;</span>,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dawdawsadacthe3341.png\"></p>\n<h2 id=\"页面生命周期\"><a href=\"#页面生命周期\" class=\"headerlink\" title=\"页面生命周期\"></a>页面生命周期</h2><p><img src=\"https://cdn.jsdelivr.net/gh/Rr210/image@master/hexo/4/dawdawade2131.png\"></p>\n<h2 id=\"项目制作\"><a href=\"#项目制作\" class=\"headerlink\" title=\"项目制作\"></a>项目制作</h2><ol>\n<li>promise封装函数<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> request=<span class=\"function\">(<span class=\"params\">params</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">          ...params,</span><br><span class=\"line\">          success:<span class=\"function\">(<span class=\"params\">result</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              resolve(result)</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          fail:<span class=\"function\">(<span class=\"params\">err</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              reject(err)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">          </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">request(&#123;<span class=\"attr\">url</span>:<span class=\"string\">&quot;https://api-hmugo-web.itheima.net/api/public/v1/home/swiperdata&quot;</span>&#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">result</span>=&gt;</span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">            swiper_list: result.data.message</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">    &#125;)</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n</li>\n</ol>\n<h2 id=\"缓冲事件\"><a href=\"#缓冲事件\" class=\"headerlink\" title=\"缓冲事件\"></a>缓冲事件</h2><ol>\n<li>设置一个缓冲事件，获取本地的存储中的数据进行判断</li>\n<li>·<code>&#123;time:Date.now(),data:[...]&#125;</code></li>\n<li>web:<code> localStorage.setItem(&quot;key&quot;,&quot;value&quot;)</code> <code>localStorage.getItem(&quot;key&quot;)</code></li>\n<li>优化接口的路径  使用prominse中的params将url解构出来</li>\n</ol>\n<h2 id=\"es7-async语法\"><a href=\"#es7-async语法\" class=\"headerlink\" title=\"es7 async语法\"></a>es7 async语法</h2><ol>\n<li>解决回溯的最终方案</li>\n<li>async</li>\n</ol>\n<h2 id=\"触底事件\"><a href=\"#触底事件\" class=\"headerlink\" title=\"触底事件\"></a>触底事件</h2><ol>\n<li><code>onReachBottom</code> 页面触底事件</li>\n<li>页面上拉触底事件的处理函数。触底事件，当页面触底之后，在进行请求，并且将请求到的数据在追加到原来的数组中，并且在触底后还要进行判断如果总数据的页数&gt;=当前的页数，要返回wxwx.showToast({title: ‘title’,}),否则继续请求<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// pages/goods_list/goods_list.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; request &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;../../request/index.js&quot;</span>;</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面的初始数据</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 将这些数据导入到子文件中</span></span><br><span class=\"line\">    tabs: [&#123;</span><br><span class=\"line\">        id: <span class=\"number\">0</span>,</span><br><span class=\"line\">        value: <span class=\"string\">&#x27;综合&#x27;</span>,</span><br><span class=\"line\">        isActive: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        id: <span class=\"number\">1</span>,</span><br><span class=\"line\">        value: <span class=\"string\">&#x27;销量&#x27;</span>,</span><br><span class=\"line\">        isActive: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        id: <span class=\"number\">2</span>,</span><br><span class=\"line\">        value: <span class=\"string\">&#x27;价格&#x27;</span>,</span><br><span class=\"line\">        isActive: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    first_list:[],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 设置请求后返回的总页面的数量</span></span><br><span class=\"line\">  totalpages:<span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleChage</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 将子传递给父亲的索引值解构出来</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;id&#125; = e.detail</span><br><span class=\"line\">    <span class=\"comment\">// 将父亲data的数据进行解构</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> &#123;tabs&#125; = <span class=\"built_in\">this</span>.data</span><br><span class=\"line\">    <span class=\"comment\">// 将data中的数据进行遍历 如果此时的索引值等于数据中的id值则将数据中的isActive的值改为true</span></span><br><span class=\"line\">    <span class=\"comment\">// 这里的v表示的是遍历的数据，i表示的是索引号</span></span><br><span class=\"line\">    tabs.forEach(<span class=\"function\">(<span class=\"params\">v,i</span>) =&gt;</span>i===id?v.isActive=<span class=\"literal\">true</span>:v.isActive=<span class=\"literal\">false</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 将这里修改的数据加到源数据中</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      tabs</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 页面触底事件</span></span><br><span class=\"line\"></span><br><span class=\"line\">  pageParams:&#123;</span><br><span class=\"line\">    query:<span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    cid:<span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">    pagenum:<span class=\"number\">1</span>,</span><br><span class=\"line\">    pagesize:<span class=\"number\">10</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 对接口数据进行请求</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"function\"><span class=\"title\">getgoodList</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> request(&#123;</span><br><span class=\"line\">      url:<span class=\"string\">&#x27;/goods/search&#x27;</span>,</span><br><span class=\"line\">      data: <span class=\"built_in\">this</span>.pageParams</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(res);</span><br><span class=\"line\">    <span class=\"comment\">// 先获取页面的总数据，计算出页码信息</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> goodspages = <span class=\"built_in\">Math</span>.ceil(res.data.message.total / <span class=\"built_in\">this</span>.pageParams.pagesize)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(goodspages)</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.totalpages = goodspages</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 这一步是将请求到的数据在使用数组拼接的方式拼接起来，这里用到了数组解构的方法</span></span><br><span class=\"line\">      first_list:[...this.data.first_list,...res.data.message.goods],</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面加载</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onLoad: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(options);</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.pageParams.cid = options.cat_id</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.getgoodList()</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面上拉触底事件的处理函数。触底事件，当页面触底之后，在进行请求，并且将请求到的数据在追加到原来的数组中，并且在触底后还要进行判断如果总数据的页数&gt;=当前的页数，要返回wxwx.showToast(&#123;title: &#x27;title&#x27;,&#125;),否则继续请求</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onReachBottom: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.pageParams.pagenum++;</span><br><span class=\"line\">    <span class=\"comment\">// 进行页面触底的判断</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"built_in\">this</span>.totalpages&lt;=<span class=\"built_in\">this</span>.pageParams.pagenum)&#123;</span><br><span class=\"line\">      wx.showToast(&#123;</span><br><span class=\"line\">        title: <span class=\"string\">&#x27;页面加载完成&#x27;</span>,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.getgoodList()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onReady: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面显示</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onShow: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面隐藏</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onHide: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面卸载</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onUnload: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onPullDownRefresh: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 用户点击右上角分享</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onShareAppMessage: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n</li>\n</ol>\n<h2 id=\"下拉刷新页面\"><a href=\"#下拉刷新页面\" class=\"headerlink\" title=\"下拉刷新页面\"></a>下拉刷新页面</h2><ol>\n<li>重置数据</li>\n<li>重置页码 </li>\n<li>然后在请求方法的最后加上 关闭下拉刷新的方法</li>\n<li>显示加载中提示，在页面请求之前显示 <code>complete方法</code></li>\n<li>在页面请求加载之前首先先显示加载按钮在页面加载结束后隐藏 调用wx.request方法中的第三个函数方法complete</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 如果在执行异步操作时，对隐藏加载按钮进行处理，不做处理页面还未加载完成就结束了</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ajaxtimes = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> request=<span class=\"function\">(<span class=\"params\">params</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    ajaxtimes++;</span><br><span class=\"line\">    <span class=\"comment\">// 在页面请求加载之前首先先显示加载按钮在页面加载结束后隐藏 调用wx.request方法中的第三个函数方法complete</span></span><br><span class=\"line\">    wx.showLoading(&#123;</span><br><span class=\"line\">        title: <span class=\"string\">&#x27;加载中&#x27;</span>,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    <span class=\"comment\">// 将接口的公共部分解构出来，在进行拼接</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> baseUrl = <span class=\"string\">&#x27;https://api-hmugo-web.itheima.net/api/public/v1&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">        wx.request(&#123;</span><br><span class=\"line\">          ...params,</span><br><span class=\"line\">          url:baseUrl+params.url,</span><br><span class=\"line\">          success:<span class=\"function\">(<span class=\"params\">result</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              resolve(result)</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          fail:<span class=\"function\">(<span class=\"params\">err</span>)=&gt;</span>&#123;</span><br><span class=\"line\">              reject(err)</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        <span class=\"comment\">//   请求完成或者失败都会执行</span></span><br><span class=\"line\">          complete:<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">              ajaxtimes--;</span><br><span class=\"line\">            <span class=\"comment\">//   如果ajaxtimes的值不等于0，不执行隐藏函数</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(ajaxtimes===<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                wx.hideLoading()</span><br><span class=\"line\">            &#125; </span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);    </span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"css省略号\"><a href=\"#css省略号\" class=\"headerlink\" title=\"css省略号\"></a>css省略号</h2><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">display</span>: <span class=\"selector-tag\">-webkit-box</span>;</span><br><span class=\"line\"><span class=\"selector-tag\">-webkit-box-orient</span>: <span class=\"selector-tag\">vertical</span>;</span><br><span class=\"line\"><span class=\"selector-tag\">-webkit-line-clamp</span>: 2;</span><br><span class=\"line\"><span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">hidden</span>;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"预览大图\"><a href=\"#预览大图\" class=\"headerlink\" title=\"预览大图\"></a>预览大图</h2><ol>\n<li>点击轮播图位置得图片实现大图得预览效果</li>\n<li>为轮播图添加一个点击事件</li>\n<li>使用事件 <code>previewImage</code></li>\n<li>给小程序添加大图预览效果 使用  wx.previewImage方法来实现，首先是在轮播图的遍历图片的位置添加一个函数方法，然后在方法内使用pre方法，并且将获取到的图片从列表中选出后生成一个新的列表使用map方法,由于是异步函数，所以必须将列表单独拿出来,给swiper加上一个自定义id值，当用户点击某一张图片时将该图片放大,获取该点击事件得图片id值，使用解构得方法</li>\n</ol>\n<h2 id=\"购物车模拟\"><a href=\"#购物车模拟\" class=\"headerlink\" title=\"购物车模拟\"></a>购物车模拟</h2><ol>\n<li>对加入购物车事件进行处理，点击加入购物车 先对本地缓冲中得cart缓冲进行判断如果存在则使得该商品得总数num+1，否则将当前商品得数量设置为1，使用<code>findIndex</code>方法，如果不满足条件则返回-1<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">handleshopAdd</span>(<span class=\"params\">e</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cart = wx.getStorageSync(<span class=\"string\">&#x27;cart&#x27;</span>) || []</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index = cart.findIndex(<span class=\"function\"><span class=\"params\">v</span> =&gt;</span>v.data.message.goods_id === <span class=\"built_in\">this</span>.infoData.data.message.goods_id)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (index === -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.infoData.num = <span class=\"number\">1</span></span><br><span class=\"line\">    cart.push(<span class=\"built_in\">this</span>.infoData)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    cart[index].num++;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(cart[index].num);</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// console.log(index);</span></span><br><span class=\"line\">  wx.setStorageSync(<span class=\"string\">&#x27;cart&#x27;</span>, cart)</span><br><span class=\"line\">  wx.showToast(&#123;</span><br><span class=\"line\">    title: <span class=\"string\">&#x27;加入购物车成功&#x27;</span>,</span><br><span class=\"line\">    icon: <span class=\"string\">&#x27;success&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 防抖操作</span></span><br><span class=\"line\">    mask: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n\n</li>\n</ol>\n<h2 id=\"获取地址信息\"><a href=\"#获取地址信息\" class=\"headerlink\" title=\"获取地址信息\"></a>获取地址信息</h2><details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data: &#123;</span><br><span class=\"line\">    address: <span class=\"literal\">false</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 点击获取地址按钮事件</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleButtonAddress</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 将获取到得地址信息存入到缓冲中</span></span><br><span class=\"line\">    wx.chooseAddress(&#123;</span><br><span class=\"line\">      success: <span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// console.log(result);</span></span><br><span class=\"line\">        <span class=\"comment\">// 设置一个缓冲信息</span></span><br><span class=\"line\">        wx.setStorageSync(<span class=\"string\">&#x27;address&#x27;</span>, result);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;) </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 在onshow事件内进行判断如果缓冲中存在数据则将地址呈现到页面中</span></span><br><span class=\"line\">  onShow: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 先判断缓冲中是否存在信息，如果存在将数据存入到 data中并呈现到页面中</span></span><br><span class=\"line\">    <span class=\"comment\">// 先获取缓冲中得数据</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> address = wx.getStorageSync(<span class=\"string\">&#x27;address&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(address)&#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        address</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      <span class=\"comment\">// 将数据呈现到页面中</span></span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.data.address);</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;缓冲中得数据不存在&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"结算功能\"><a href=\"#结算功能\" class=\"headerlink\" title=\"结算功能\"></a>结算功能</h2><ol>\n<li>使用遍历中的every方法</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Page Object</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    address: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    cart_list: [],</span><br><span class=\"line\">    Allchecked: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    totalPrice:<span class=\"number\">0</span>,</span><br><span class=\"line\">    totalNum:<span class=\"number\">0</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 点击获取地址按钮事件</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleButtonAddress</span>(<span class=\"params\">e</span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 将获取到得地址信息存入到缓冲中</span></span><br><span class=\"line\">    wx.chooseAddress(&#123;</span><br><span class=\"line\">      success: <span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(result);</span><br><span class=\"line\">        <span class=\"comment\">// 设置一个缓冲信息</span></span><br><span class=\"line\">        wx.setStorageSync(<span class=\"string\">&#x27;address&#x27;</span>, result);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 在onshow事件内进行判断如果缓冲中存在数据则将地址呈现到页面中</span></span><br><span class=\"line\">  onShow: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 先判断缓冲中是否存在信息，如果存在将数据存入到 data中并呈现到页面中</span></span><br><span class=\"line\">    <span class=\"comment\">// 先获取缓冲中得数据</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> address = wx.getStorageSync(<span class=\"string\">&#x27;address&#x27;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 获取缓存中的购物车信息</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> cart_list = wx.getStorageSync(<span class=\"string\">&#x27;cart&#x27;</span>) || []</span><br><span class=\"line\">    <span class=\"comment\">// 使用遍历方法every </span></span><br><span class=\"line\">    <span class=\"comment\">// const Allchecked = cart_list.length ? cart_list.every(v =&gt; v.checked) : false</span></span><br><span class=\"line\">    <span class=\"comment\">// 购物车结算，将用户选中的商品的数量相加，为总数量；单个商品的价格和数量相乘相加得到商品的总价格</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setCart(cart_list)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (address) &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        address</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      <span class=\"comment\">// 将数据呈现到页面中</span></span><br><span class=\"line\">      <span class=\"comment\">// console.log(this.data.address);</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 给checkbox添加一个改变属性</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">handleItemChecked</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">    <span class=\"comment\">// 获取选中改变商品的id,解构出来</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;id&#125; = e.currentTarget.dataset</span><br><span class=\"line\">    <span class=\"comment\">// 找到缓冲中的相应的商品，同时进行判断如果修改checed属性值</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123;cart_list&#125; = <span class=\"built_in\">this</span>.data</span><br><span class=\"line\">    <span class=\"comment\">// 使用findIndex方法对缓冲中的数组进行遍历</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> index = cart_list.findIndex(<span class=\"function\"><span class=\"params\">v</span>=&gt;</span>v.data.message.goods_id==id)</span><br><span class=\"line\">    <span class=\"comment\">// 找出用户改变商品选中状态的索引值,修改该索引值下商品的checked的值</span></span><br><span class=\"line\">    cart_list[index].checked = !cart_list[index].checked</span><br><span class=\"line\">    <span class=\"comment\">// console.log(index);</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setCart(cart_list)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 封装一个计算商品总数和商品总价格的函数方法</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">setCart</span>(<span class=\"params\">cart_list</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> totalPrice = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> totalNum = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> Allchecked = <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"comment\">// 使用forEach方法对缓冲中的数组进行遍历</span></span><br><span class=\"line\">    cart_list.forEach(<span class=\"function\"><span class=\"params\">v</span>=&gt;</span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(v.checked)&#123;</span><br><span class=\"line\">        totalPrice += v.data.message.goods_price*v.num</span><br><span class=\"line\">        totalNum += v.num</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        Allchecked= <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"comment\">// 并且当用户的列表为空时不进行遍历</span></span><br><span class=\"line\">    Allchecked=cart_list.length !=<span class=\"number\">0</span>?Allchecked:<span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"comment\">// console.log(cart_list);</span></span><br><span class=\"line\">    <span class=\"comment\">// console.log(Allchecked);</span></span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      cart_list,</span><br><span class=\"line\">      Allchecked,</span><br><span class=\"line\">      totalPrice,</span><br><span class=\"line\">      totalNum</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"登录获取用户信息\"><a href=\"#登录获取用户信息\" class=\"headerlink\" title=\"登录获取用户信息\"></a>登录获取用户信息</h2><ol>\n<li>使用getgetUserProfile</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">getUserProfile</span>(<span class=\"params\">e</span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// console.log(e);</span></span><br><span class=\"line\">  <span class=\"comment\">// 判断缓冲中是否存在用户id</span></span><br><span class=\"line\">  wx.getUserProfile(&#123;</span><br><span class=\"line\">    desc: <span class=\"string\">&#x27;用于完善会员资料&#x27;</span>, <span class=\"comment\">// 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写</span></span><br><span class=\"line\">    success: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">        userInfo: res.userInfo,</span><br><span class=\"line\">        hasUserInfo: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      wx.setStorageSync(<span class=\"string\">&#x27;userinfo&#x27;</span>, res.userInfo);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> userinfo = wx.getStorageSync(<span class=\"string\">&#x27;userinfo&#x27;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (userinfo) &#123;</span><br><span class=\"line\">        wx.switchTab(&#123;</span><br><span class=\"line\">          url: <span class=\"string\">&#x27;/pages/user/user&#x27;</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"防抖和节流\"><a href=\"#防抖和节流\" class=\"headerlink\" title=\"防抖和节流\"></a>防抖和节流</h2><ol>\n<li>使用定时器解决防抖</li>\n</ol>\n<h2 id=\"图片的上传\"><a href=\"#图片的上传\" class=\"headerlink\" title=\"图片的上传\"></a>图片的上传</h2>","categories":[{"name":"web","path":"api/categories/web.json"},{"name":"wx","path":"api/categories/wx.json"}],"tags":[]}