{"title":"Javascript知识总结（12）","slug":"js-12","date":"2021-02-03T04:02:09.000Z","updated":"2022-06-22T08:59:46.826Z","comments":true,"path":"api/articles/js-12.json","excerpt":null,"covers":null,"content":"<div class=\"note primary icon flat\"><p>事件监听方式</p></div>\n\n<h2 id=\"注册事件\"><a href=\"#注册事件\" class=\"headerlink\" title=\"注册事件\"></a>注册事件</h2><ol>\n<li>传统注册方式，使用on开头的，注册事件具有唯一性</li>\n<li>方法监听方式 addEventListener()  /  attachEvent(),特点：同一个元素可以添加多种事件</li>\n</ol>\n<h2 id=\"事件监听方式\"><a href=\"#事件监听方式\" class=\"headerlink\" title=\"事件监听方式\"></a>事件监听方式</h2><ol>\n<li><code>addEventListener(&#39;事件类型&#39;,function()&#123;&#125;)</code>，</li>\n<li>里面的事件是字符型，不加<code>on</code></li>\n<li>同一个元素同一个事件可以添加多个侦听器（事件处理程序）</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#881B12\">兼容性问题</span></p>\n<ol>\n<li>attachEvent(‘事件类型’,function(){})</li>\n<li>ie9以前支持</li>\n</ol>\n<h2 id=\"删除事件\"><a href=\"#删除事件\" class=\"headerlink\" title=\"删除事件\"></a>删除事件</h2><ol>\n<li>传统事件解绑方法</li>\n</ol>\n<details green><summary> <p>查看实例</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> divs =<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">&#x27;div&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">    divs[<span class=\"number\">0</span>].onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        alert(<span class=\"string\">&#x27;nihao&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">        divs[<span class=\"number\">0</span>].onclick = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<ol start=\"2\">\n<li>第二种removeEventListener</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">divs[<span class=\"number\">1</span>].addEventListener(<span class=\"string\">&#x27;click&#x27;</span>,fn);</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fn</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    alert(<span class=\"string\">&#x27;nihao&#x27;</span>);</span><br><span class=\"line\">    divs[<span class=\"number\">1</span>].removeEventListener(<span class=\"string\">&#x27;click&#x27;</span>,fn)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<ol start=\"3\">\n<li>第三种使用datch</li>\n</ol>\n<h2 id=\"Dom事件流\"><a href=\"#Dom事件流\" class=\"headerlink\" title=\"Dom事件流\"></a>Dom事件流</h2><ol>\n<li>捕获阶段，当前目标阶段，冒泡阶段</li>\n<li>js代码中只能执行捕获或者冒泡其中的一个阶段</li>\n<li>onclick和attachEvent只能得到冒泡阶段</li>\n<li>addEventListener看第三个参数的设置默认为false，<code>true</code>表示在事件<code>捕获阶段</code>调用事件处理程序，<code>false</code>表示在事件<code>冒泡阶段</code>调用事件处理程序</li>\n<li>传播类型：捕获从外到里，冒泡从里到外</li>\n<li>有些事件没有冒泡onblur，onmouseenter，onmouseleave，onfocus</li>\n</ol>\n<h2 id=\"事件对象\"><a href=\"#事件对象\" class=\"headerlink\" title=\"事件对象\"></a>事件对象</h2><ol>\n<li>侦听函数  小括号里面的当形参来看</li>\n<li>有兼容性问题，ie678通过window.event </li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> divs =<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">&#x27;div&#x27;</span>);</span><br><span class=\"line\">divs[<span class=\"number\">0</span>].onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">    e = e || Window.event;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">divs[<span class=\"number\">1</span>].addEventListener(<span class=\"string\">&#x27;click&#x27;</span>,fn);</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fn</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">    e = e || Window.event;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"常见事件对象的属性和方法\"><a href=\"#常见事件对象的属性和方法\" class=\"headerlink\" title=\"常见事件对象的属性和方法\"></a>常见事件对象的属性和方法</h2><p><span class=\"inline-tag\" style=\"--Color:#881B12\">返回事件</span></p>\n<ol>\n<li><code>e.target</code> 返回的是触发事件的对象元素  event,兼容性问题<code>e.srcElement</code></li>\n<li><code>this</code>返回的是绑定事件的对象   (类似属性<code>currentTarget</code>,有兼容性问题问题)</li>\n<li><code>e.type</code>调用事件类型，不带on</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#1a9255\">阻止默认事件</span></p>\n<ol>\n<li><code>e.preventDefault()</code> 有兼容性问题</li>\n<li>低版本 使用returnValue</li>\n<li>可以使用return false，没有兼容性问题，特点 return后面的代码不执行，只限制于传统的注册方式</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#4121c3\">阻止冒泡 </span></p>\n<ol>\n<li><code>stopPropagation()</code>，偶遇兼容性问题</li>\n<li><code>e.canceBubble = true</code>  非标准的</li>\n</ol>\n<h2 id=\"事件委托\"><a href=\"#事件委托\" class=\"headerlink\" title=\"事件委托\"></a>事件委托</h2><blockquote>\n<p>重点原理：不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点</p>\n</blockquote>\n<h2 id=\"常见的鼠标事件\"><a href=\"#常见的鼠标事件\" class=\"headerlink\" title=\"常见的鼠标事件\"></a>常见的鼠标事件</h2><ol>\n<li><code>contextmenu</code>文本菜单</li>\n<li><code>selectstart</code>选中文字</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span>我是一段不愿意被复制的文字<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> ul = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;ul&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">    ul.addEventListener(<span class=\"string\">&#x27;contextmenu&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"javascript\">    ul.addEventListener(<span class=\"string\">&#x27;selectstart&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h3 id=\"鼠标事件对象\"><a href=\"#鼠标事件对象\" class=\"headerlink\" title=\"鼠标事件对象\"></a>鼠标事件对象</h3><p><span class=\"inline-tag\" style=\"--Color:#881B12\">click</span></p>\n<ol>\n<li>e.clientX/Y   鼠标在可视区</li>\n<li>e.pageX/Y  在页面文档</li>\n<li>e.screnX/Y  相对于屏幕</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#881B12\">mousemove</span></p>\n<ol>\n<li>原理：获取鼠标的位置，设置元素的样式</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    img&#123;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        width: 20px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cloud.mr90.top/file/imagecloud/hexo/0/jsdelivr.jpeg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> imgc = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;img&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">&#x27;mousemove&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> x = e.pageX;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> y = e.pageY;</span></span><br><span class=\"line\"><span class=\"javascript\">        imgc.style.left = x +<span class=\"string\">&#x27;px&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"javascript\">        imgc.style.top = y +<span class=\"string\">&#x27;px&#x27;</span>;</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"常用的键盘事件\"><a href=\"#常用的键盘事件\" class=\"headerlink\" title=\"常用的键盘事件\"></a>常用的键盘事件</h2><ol>\n<li><code>keyup</code>按键弹起时触发</li>\n<li><code>keydown</code>按下时触发，能识别功能键，优先级高</li>\n<li><code>keypress</code>被按下时触发（不识别功能键ctrl，shift，左右箭头）</li>\n<li>e.keyCode 得到相应键位的ASCII值，keyup和keydown事件不区分字母大小写，keypress区分大小写</li>\n</ol>\n<details green><summary> <p>输入快捷键获得焦点实例</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> input = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;input&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">&#x27;keyup&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"built_in\">console</span>.log(e.keyCode);</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">if</span>(e.keyCode === <span class=\"number\">65</span>)&#123;</span></span><br><span class=\"line\">            input.focus();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<details green><summary> <p>鼠标获取实例</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.box</span> &#123;</span></span><br><span class=\"line\">        position: relative;</span><br><span class=\"line\">        width: 150px;</span><br><span class=\"line\">        margin: 6.25rem auto;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.con</span> &#123;</span></span><br><span class=\"line\">        display: none;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        top: -25px;</span><br><span class=\"line\">        margin: 0 0 5px 20px;</span><br><span class=\"line\">        border-radius: 10px;</span><br><span class=\"line\">        height: 20px;</span><br><span class=\"line\">        width: 80px;</span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#537934</span>;</span></span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#000</span>;</span></span><br><span class=\"line\">        font-size: 10px;</span><br><span class=\"line\">        padding-left: 5px;</span><br><span class=\"line\">        padding-top: 2px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.con</span><span class=\"selector-pseudo\">:after</span> &#123;</span></span><br><span class=\"line\">        content: &#x27;&#x27;;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        width: 0;</span><br><span class=\"line\">        height: 0;</span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">border-top</span>: 5<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#537934</span>;</span></span><br><span class=\"line\">        border-right: 10px solid transparent;</span><br><span class=\"line\">        border-left: 10px solid transparent;</span><br><span class=\"line\">        margin: 10px auto;</span><br><span class=\"line\">        bottom: -15px;</span><br><span class=\"line\">        left: 20px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    input &#123;</span><br><span class=\"line\">        outline: none;</span><br><span class=\"line\">        border-radius: 5px;</span><br><span class=\"line\">        width: 150px;</span><br><span class=\"line\">        height: 20px;</span><br><span class=\"line\">        padding-left: 4px;</span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">border</span>: 2<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#ccc</span>;</span></span><br><span class=\"line\">        background-color: rgba(139, 187, 50, 0.424);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;con&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;请输入内容&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// 获取光标</span></span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> inputs = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;input&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (e.keyCode === <span class=\"number\">65</span>) &#123;</span></span><br><span class=\"line\">                inputs.focus();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// 第二步实现浮动框显示，在检测到con中出现文字时</span></span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> box = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;.box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">        inputs.addEventListener(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (inputs.value == <span class=\"string\">&#x27;&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;none&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;block&#x27;</span>;</span></span><br><span class=\"line\">                box.children[0].innerHTML = inputs.value;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"><span class=\"javascript\">        inputs.addEventListener(<span class=\"string\">&#x27;focus&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (inputs.value !== <span class=\"string\">&#x27;&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;block&#x27;</span>;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"><span class=\"javascript\">        inputs.addEventListener(<span class=\"string\">&#x27;blur&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;none&#x27;</span></span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n","more":"<div class=\"note primary icon flat\"><p>事件监听方式</p></div>\n\n<h2 id=\"注册事件\"><a href=\"#注册事件\" class=\"headerlink\" title=\"注册事件\"></a>注册事件</h2><ol>\n<li>传统注册方式，使用on开头的，注册事件具有唯一性</li>\n<li>方法监听方式 addEventListener()  /  attachEvent(),特点：同一个元素可以添加多种事件</li>\n</ol>\n<h2 id=\"事件监听方式\"><a href=\"#事件监听方式\" class=\"headerlink\" title=\"事件监听方式\"></a>事件监听方式</h2><ol>\n<li><code>addEventListener(&#39;事件类型&#39;,function()&#123;&#125;)</code>，</li>\n<li>里面的事件是字符型，不加<code>on</code></li>\n<li>同一个元素同一个事件可以添加多个侦听器（事件处理程序）</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#881B12\">兼容性问题</span></p>\n<ol>\n<li>attachEvent(‘事件类型’,function(){})</li>\n<li>ie9以前支持</li>\n</ol>\n<h2 id=\"删除事件\"><a href=\"#删除事件\" class=\"headerlink\" title=\"删除事件\"></a>删除事件</h2><ol>\n<li>传统事件解绑方法</li>\n</ol>\n<details green><summary> <p>查看实例</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> divs =<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">&#x27;div&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">    divs[<span class=\"number\">0</span>].onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        alert(<span class=\"string\">&#x27;nihao&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">        divs[<span class=\"number\">0</span>].onclick = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<ol start=\"2\">\n<li>第二种removeEventListener</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">divs[<span class=\"number\">1</span>].addEventListener(<span class=\"string\">&#x27;click&#x27;</span>,fn);</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fn</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    alert(<span class=\"string\">&#x27;nihao&#x27;</span>);</span><br><span class=\"line\">    divs[<span class=\"number\">1</span>].removeEventListener(<span class=\"string\">&#x27;click&#x27;</span>,fn)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<ol start=\"3\">\n<li>第三种使用datch</li>\n</ol>\n<h2 id=\"Dom事件流\"><a href=\"#Dom事件流\" class=\"headerlink\" title=\"Dom事件流\"></a>Dom事件流</h2><ol>\n<li>捕获阶段，当前目标阶段，冒泡阶段</li>\n<li>js代码中只能执行捕获或者冒泡其中的一个阶段</li>\n<li>onclick和attachEvent只能得到冒泡阶段</li>\n<li>addEventListener看第三个参数的设置默认为false，<code>true</code>表示在事件<code>捕获阶段</code>调用事件处理程序，<code>false</code>表示在事件<code>冒泡阶段</code>调用事件处理程序</li>\n<li>传播类型：捕获从外到里，冒泡从里到外</li>\n<li>有些事件没有冒泡onblur，onmouseenter，onmouseleave，onfocus</li>\n</ol>\n<h2 id=\"事件对象\"><a href=\"#事件对象\" class=\"headerlink\" title=\"事件对象\"></a>事件对象</h2><ol>\n<li>侦听函数  小括号里面的当形参来看</li>\n<li>有兼容性问题，ie678通过window.event </li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> divs =<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">&#x27;div&#x27;</span>);</span><br><span class=\"line\">divs[<span class=\"number\">0</span>].onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">    e = e || Window.event;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">divs[<span class=\"number\">1</span>].addEventListener(<span class=\"string\">&#x27;click&#x27;</span>,fn);</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fn</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(e);</span><br><span class=\"line\">    e = e || Window.event;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"常见事件对象的属性和方法\"><a href=\"#常见事件对象的属性和方法\" class=\"headerlink\" title=\"常见事件对象的属性和方法\"></a>常见事件对象的属性和方法</h2><p><span class=\"inline-tag\" style=\"--Color:#881B12\">返回事件</span></p>\n<ol>\n<li><code>e.target</code> 返回的是触发事件的对象元素  event,兼容性问题<code>e.srcElement</code></li>\n<li><code>this</code>返回的是绑定事件的对象   (类似属性<code>currentTarget</code>,有兼容性问题问题)</li>\n<li><code>e.type</code>调用事件类型，不带on</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#1a9255\">阻止默认事件</span></p>\n<ol>\n<li><code>e.preventDefault()</code> 有兼容性问题</li>\n<li>低版本 使用returnValue</li>\n<li>可以使用return false，没有兼容性问题，特点 return后面的代码不执行，只限制于传统的注册方式</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#4121c3\">阻止冒泡 </span></p>\n<ol>\n<li><code>stopPropagation()</code>，偶遇兼容性问题</li>\n<li><code>e.canceBubble = true</code>  非标准的</li>\n</ol>\n<h2 id=\"事件委托\"><a href=\"#事件委托\" class=\"headerlink\" title=\"事件委托\"></a>事件委托</h2><blockquote>\n<p>重点原理：不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点</p>\n</blockquote>\n<h2 id=\"常见的鼠标事件\"><a href=\"#常见的鼠标事件\" class=\"headerlink\" title=\"常见的鼠标事件\"></a>常见的鼠标事件</h2><ol>\n<li><code>contextmenu</code>文本菜单</li>\n<li><code>selectstart</code>选中文字</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span>我是一段不愿意被复制的文字<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> ul = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;ul&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">    ul.addEventListener(<span class=\"string\">&#x27;contextmenu&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"javascript\">    ul.addEventListener(<span class=\"string\">&#x27;selectstart&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h3 id=\"鼠标事件对象\"><a href=\"#鼠标事件对象\" class=\"headerlink\" title=\"鼠标事件对象\"></a>鼠标事件对象</h3><p><span class=\"inline-tag\" style=\"--Color:#881B12\">click</span></p>\n<ol>\n<li>e.clientX/Y   鼠标在可视区</li>\n<li>e.pageX/Y  在页面文档</li>\n<li>e.screnX/Y  相对于屏幕</li>\n</ol>\n<p><span class=\"inline-tag\" style=\"--Color:#881B12\">mousemove</span></p>\n<ol>\n<li>原理：获取鼠标的位置，设置元素的样式</li>\n</ol>\n<details green><summary> <p>查看答案</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    img&#123;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        width: 20px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cloud.mr90.top/file/imagecloud/hexo/0/jsdelivr.jpeg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> imgc = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;img&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">&#x27;mousemove&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> x = e.pageX;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> y = e.pageY;</span></span><br><span class=\"line\"><span class=\"javascript\">        imgc.style.left = x +<span class=\"string\">&#x27;px&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"javascript\">        imgc.style.top = y +<span class=\"string\">&#x27;px&#x27;</span>;</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<h2 id=\"常用的键盘事件\"><a href=\"#常用的键盘事件\" class=\"headerlink\" title=\"常用的键盘事件\"></a>常用的键盘事件</h2><ol>\n<li><code>keyup</code>按键弹起时触发</li>\n<li><code>keydown</code>按下时触发，能识别功能键，优先级高</li>\n<li><code>keypress</code>被按下时触发（不识别功能键ctrl，shift，左右箭头）</li>\n<li>e.keyCode 得到相应键位的ASCII值，keyup和keydown事件不区分字母大小写，keypress区分大小写</li>\n</ol>\n<details green><summary> <p>输入快捷键获得焦点实例</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">var</span> input = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;input&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">&#x27;keyup&#x27;</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"built_in\">console</span>.log(e.keyCode);</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">if</span>(e.keyCode === <span class=\"number\">65</span>)&#123;</span></span><br><span class=\"line\">            input.focus();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n\n<details green><summary> <p>鼠标获取实例</p> </summary>\n              <div class='content'>\n              <figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.box</span> &#123;</span></span><br><span class=\"line\">        position: relative;</span><br><span class=\"line\">        width: 150px;</span><br><span class=\"line\">        margin: 6.25rem auto;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.con</span> &#123;</span></span><br><span class=\"line\">        display: none;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        top: -25px;</span><br><span class=\"line\">        margin: 0 0 5px 20px;</span><br><span class=\"line\">        border-radius: 10px;</span><br><span class=\"line\">        height: 20px;</span><br><span class=\"line\">        width: 80px;</span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#537934</span>;</span></span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#000</span>;</span></span><br><span class=\"line\">        font-size: 10px;</span><br><span class=\"line\">        padding-left: 5px;</span><br><span class=\"line\">        padding-top: 2px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.con</span><span class=\"selector-pseudo\">:after</span> &#123;</span></span><br><span class=\"line\">        content: &#x27;&#x27;;</span><br><span class=\"line\">        position: absolute;</span><br><span class=\"line\">        width: 0;</span><br><span class=\"line\">        height: 0;</span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">border-top</span>: 5<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#537934</span>;</span></span><br><span class=\"line\">        border-right: 10px solid transparent;</span><br><span class=\"line\">        border-left: 10px solid transparent;</span><br><span class=\"line\">        margin: 10px auto;</span><br><span class=\"line\">        bottom: -15px;</span><br><span class=\"line\">        left: 20px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    input &#123;</span><br><span class=\"line\">        outline: none;</span><br><span class=\"line\">        border-radius: 5px;</span><br><span class=\"line\">        width: 150px;</span><br><span class=\"line\">        height: 20px;</span><br><span class=\"line\">        padding-left: 4px;</span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">border</span>: 2<span class=\"selector-tag\">px</span> <span class=\"selector-tag\">solid</span> <span class=\"selector-id\">#ccc</span>;</span></span><br><span class=\"line\">        background-color: rgba(139, 187, 50, 0.424);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;con&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;请输入内容&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// 获取光标</span></span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> inputs = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;input&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"built_in\">document</span>.addEventListener(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (e.keyCode === <span class=\"number\">65</span>) &#123;</span></span><br><span class=\"line\">                inputs.focus();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"comment\">// 第二步实现浮动框显示，在检测到con中出现文字时</span></span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">var</span> box = <span class=\"built_in\">document</span>.querySelector(<span class=\"string\">&#x27;.box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">        inputs.addEventListener(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (inputs.value == <span class=\"string\">&#x27;&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;none&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;block&#x27;</span>;</span></span><br><span class=\"line\">                box.children[0].innerHTML = inputs.value;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"><span class=\"javascript\">        inputs.addEventListener(<span class=\"string\">&#x27;focus&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">if</span> (inputs.value !== <span class=\"string\">&#x27;&#x27;</span>) &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;block&#x27;</span>;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"><span class=\"javascript\">        inputs.addEventListener(<span class=\"string\">&#x27;blur&#x27;</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            box.children[<span class=\"number\">0</span>].style.display = <span class=\"string\">&#x27;none&#x27;</span></span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n              </div>\n            </details>\n","categories":[{"name":"web","path":"api/categories/web.json"},{"name":"Javascript","path":"api/categories/Javascript.json"}],"tags":[]}